<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquid Glass Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom base styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: #f5f5f7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Glassmorphism effect */
        .glass-effect {
            background: rgba(40, 40, 40, 0.5);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1c1c1e;
        }
        ::-webkit-scrollbar-thumb {
            background: #3a3a3c;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #5a5a5c;
        }

        /* Prevent layout shifts */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }

        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }
        
        /* Animation for lightbox fade-in */
        .lightbox-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Liquid button click effect */
        @keyframes liquid-click {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.3); }
            50% { transform: scale(0.95); box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.2); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }
        .liquid-click-effect {
            animation: liquid-click 0.4s ease-out;
        }
    </style>
</head>
<body class="overflow-x-hidden">

    <!-- Main Content Wrapper -->
    <main id="main-content" class="pb-28 md:pb-8 transition-all duration-300">
        <header class="text-center p-8 md:p-16">
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight">Gallery</h1>
            <p class="text-lg md:text-xl text-gray-400 mt-2 max-w-2xl mx-auto">A curated collection of moments, inspired by next-generation design.</p>
        </header>
                
        <!-- Gallery Grid -->
        <div id="gallery-grid" class="gallery-grid gap-4 p-4">
            <!-- Images will be injected here by JavaScript -->
        </div>
        <div id="loading-indicator" class="text-center p-8">
            <p>Loading gallery...</p>
        </div>
        <div id="downloads-view" class="hidden p-4">
            <h2 class="text-3xl font-bold mb-4 px-4">Your Downloads</h2>
            <div id="downloads-grid" class="gallery-grid gap-4"></div>
            <p id="no-downloads-msg" class="hidden text-center text-gray-400">You haven't downloaded any items yet.</p>
        </div>
    </main>

    <!-- Lightbox/Modal for expanded view -->
    <div id="lightbox" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden items-center justify-center lightbox-fade-in" aria-modal="true" role="dialog">
        <div class="relative w-full h-full flex items-center justify-center">
            <!-- Close button -->
            <button id="lightbox-close" class="absolute top-5 right-5 z-20 p-2 text-white bg-black/30 rounded-full hover:bg-white/20 transition-all duration-300" aria-label="Close image view">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>

            <!-- Navigation Buttons (Desktop) -->
            <button id="lightbox-prev" class="hidden md:flex absolute left-5 z-20 p-3 items-center justify-center glass-effect rounded-full hover:bg-white/20 transition-all duration-300 transform hover:scale-105" aria-label="Previous image">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <button id="lightbox-next" class="hidden md:flex absolute right-5 z-20 p-3 items-center justify-center glass-effect rounded-full hover:bg-white/20 transition-all duration-300 transform hover:scale-105" aria-label="Next image">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </button>

            <!-- Image Container -->
            <div class="relative w-full h-full flex items-center justify-center p-4 md:p-16">
                <img id="lightbox-img" src="" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl" alt="Expanded gallery image">
            </div>

            <!-- Action buttons at bottom for all views -->
            <div class="absolute bottom-5 left-1/2 -translate-x-1/2 flex items-center gap-4 p-2 glass-effect rounded-full">
                <button id="lightbox-download" class="p-3 hover:bg-white/20 rounded-full transition-all duration-300" aria-label="Download image">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                </button>
                <button id="lightbox-share" class="p-3 hover:bg-white/20 rounded-full transition-all duration-300" aria-label="Share image">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Modal for Notifications -->
    <div id="notification-modal" class="fixed top-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg transform translate-x-[150%] transition-transform duration-500 ease-in-out z-[100]">
        <p id="notification-message"></p>
    </div>

    <!-- Bottom Navigation (Mobile) / Side Navigation (Desktop) -->
    <nav class="fixed bottom-4 left-1/2 -translate-x-1/2 w-[90%] max-w-sm h-16 glass-effect rounded-2xl z-40">
        <div class="relative flex items-center justify-around h-full">
            <!-- Sliding liquid effect background -->
            <div id="nav-slider" class="absolute top-2 h-12 w-16 bg-white/25 rounded-xl transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]"></div>
                        
            <button data-view="gallery" class="nav-item z-10 flex flex-col items-center justify-center w-16 h-full text-white transition-colors duration-300" aria-label="Gallery">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
            </button>

            <button data-view="downloads" class="nav-item z-10 flex flex-col items-center justify-center w-16 h-full text-gray-400 transition-colors duration-300" aria-label="Downloads">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                <span id="download-count" class="absolute top-2 right-2 text-xs bg-blue-500 text-white rounded-full w-4 h-4 flex items-center justify-center hidden">0</span>
            </button>

            <label for="upload-input" class="z-10 cursor-pointer flex flex-col items-center justify-center w-16 h-full text-gray-400 transition-colors duration-300" aria-label="Upload image">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"></path><line x1="16" y1="5" x2="22" y2="5"></line><line x1="19" y1="2" x2="19" y2="8"></line><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
            </label>
            <input type="file" id="upload-input" class="hidden" accept="image/*">

            <div class="search-container z-10 flex items-center justify-center">
                <input type="search" id="search-bar" placeholder="Search..." class="w-0 p-0 opacity-0 bg-transparent border-b-2 border-white/30 transition-all duration-500 ease-in-out focus:outline-none">
                <button id="search-btn" class="p-2 text-gray-400" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                </button>
            </div>
        </div>
    </nav>

    <script type="module">
        document.addEventListener('DOMContentLoaded', () => {
            const galleryGrid = document.getElementById('gallery-grid');
            const loadingIndicator = document.getElementById('loading-indicator');
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const lightboxDownload = document.getElementById('lightbox-download');
            const lightboxShare = document.getElementById('lightbox-share');
            const navSlider = document.getElementById('nav-slider');
            const navItems = document.querySelectorAll('.nav-item');
            const searchContainer = document.querySelector('.search-container');
            const searchBtn = document.getElementById('search-btn');
            const searchBar = document.getElementById('search-bar');
            const uploadInput = document.getElementById('upload-input');
            const mainContent = document.getElementById('main-content');
            const downloadsView = document.getElementById('downloads-view');
            const downloadsGrid = document.getElementById('downloads-grid');
            const noDownloadsMsg = document.getElementById('no-downloads-msg');
            const downloadCount = document.getElementById('download-count');

            let galleryItems = [];
            let downloadedItems = JSON.parse(localStorage.getItem('downloadedGalleryItems')) || [];
            let currentLightboxIndex = 0;

            // --- Initial Setup ---
            async function initializeGallery() {
                try {
                    // Using Unsplash for varied, high-quality images
                    const imageCount = 58;
                    
                    // Create an array of image URLs from the Unsplash API
                    galleryItems = Array.from({ length: imageCount }, (_, i) => ({
                        id: `unsplash-${i}`,
                        // Using a specific collection for a cohesive aesthetic
                        src: `https://source.unsplash.com/collection/9499700/800x600?sig=${i}`,
                        type: 'image'
                    }));

                    // Add user uploaded images from local storage to the beginning of the gallery
                    const uploadedImages = JSON.parse(localStorage.getItem('uploadedGalleryImages')) || [];
                    galleryItems.unshift(...uploadedImages);

                    renderGallery(galleryItems);
                    updateDownloadCounter();
                } catch (error) {
                    console.error("Failed to initialize gallery:", error);
                    galleryGrid.innerHTML = '<p class="text-red-500 col-span-full text-center">Could not load images. Please check your network connection.</p>';
                } finally {
                    loadingIndicator.style.display = 'none';
                }
            }

            // --- Rendering Functions ---
            function createGalleryCard(item, index) {
                const card = document.createElement('div');
                card.className = 'group relative aspect-square overflow-hidden rounded-xl cursor-pointer shadow-lg transition-transform duration-300 ease-in-out hover:!transform-none';
                card.dataset.index = index;

                const img = document.createElement('img');
                img.src = item.src;
                img.alt = `Gallery item ${index + 1}`;
                img.loading = 'lazy'; // Important for performance
                img.className = 'w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-110';
                
                const overlay = document.createElement('div');
                overlay.className = 'absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-4 p-2';

                const expandBtn = createIconButton('expand', 'Expand', '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17v5h5M17 7V2h-5m10 15-6-6M2 7l6-6"/></svg>');
                expandBtn.onclick = (e) => { e.stopPropagation(); openLightbox(index); };

                const downloadBtn = createIconButton('download', 'Download', '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>');
                downloadBtn.onclick = (e) => { e.stopPropagation(); downloadItem(item); };

                const shareBtn = createIconButton('share', 'Share', '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg>');
                shareBtn.onclick = (e) => { e.stopPropagation(); shareItem(item); };

                overlay.append(expandBtn, downloadBtn, shareBtn);
                card.append(img, overlay);
                card.addEventListener('click', () => openLightbox(index));

                return card;
            }

            function createIconButton(action, label, svg) {
                const button = document.createElement('button');
                button.innerHTML = svg;
                button.setAttribute('aria-label', label);
                button.className = 'p-3 glass-effect rounded-full text-white hover:bg-white/20 transition-all duration-300 transform hover:scale-110';
                button.addEventListener('mousedown', (e) => {
                    e.target.closest('button').classList.add('liquid-click-effect');
                });
                button.addEventListener('animationend', (e) => {
                    e.target.closest('button').classList.remove('liquid-click-effect');
                });
                return button;
            }
            
            function renderGallery(items) {
                galleryGrid.innerHTML = '';
                items.forEach((item, index) => {
                    galleryGrid.appendChild(createGalleryCard(item, index));
                });
            }

            function renderDownloads() {
                downloadsGrid.innerHTML = '';
                if(downloadedItems.length === 0){
                    noDownloadsMsg.classList.remove('hidden');
                } else {
                    noDownloadsMsg.classList.add('hidden');
                    downloadedItems.forEach((item, index) => {
                        const card = createGalleryCard(item, galleryItems.findIndex(g => g.id === item.id));
                        downloadsGrid.appendChild(card);
                    });
                }
            }

            // --- Lightbox Logic ---
            function openLightbox(index) {
                currentLightboxIndex = index;
                const item = galleryItems[index];
                if (!item) return;

                lightboxImg.src = item.src;
                lightbox.classList.remove('hidden');
                lightbox.classList.add('flex');
                document.body.style.overflow = 'hidden';

                // Event listeners for lightbox actions
                window.addEventListener('keydown', handleKeyPress);
                lightboxImg.addEventListener('touchstart', handleTouchStart, { passive: true });
                lightboxImg.addEventListener('touchmove', handleTouchMove, { passive: true });
            }

            function closeLightbox() {
                lightbox.classList.add('hidden');
                lightbox.classList.remove('flex');
                document.body.style.overflow = '';
                window.removeEventListener('keydown', handleKeyPress);
                lightboxImg.removeEventListener('touchstart', handleTouchStart);
                lightboxImg.removeEventListener('touchmove', handleTouchMove);
            }

            function showNextImage() {
                currentLightboxIndex = (currentLightboxIndex + 1) % galleryItems.length;
                updateLightboxImage();
            }

            function showPrevImage() {
                currentLightboxIndex = (currentLightboxIndex - 1 + galleryItems.length) % galleryItems.length;
                updateLightboxImage();
            }

            function updateLightboxImage() {
                const item = galleryItems[currentLightboxIndex];
                lightboxImg.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => {
                    lightboxImg.src = item.src;
                    lightboxImg.onload = () => {
                        lightboxImg.classList.remove('opacity-0');
                    };
                }, 150);
            }

            // --- Event Handlers ---
            function handleKeyPress(e) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') showNextImage();
                if (e.key === 'ArrowLeft') showPrevImage();
            }

            let touchStartX = 0;
            let touchEndX = 0;
            const swipeThreshold = 50; // 50px swipe

            function handleTouchStart(e) {
                touchStartX = e.changedTouches[0].screenX;
            }

            function handleTouchMove(e) {
                touchEndX = e.changedTouches[0].screenX;
            }
            
            lightboxImg.addEventListener('touchend', () => {
                if (touchStartX - touchEndX > swipeThreshold) {
                    showNextImage();
                } else if (touchEndX - touchStartX > swipeThreshold) {
                    showPrevImage();
                }
            });

            lightboxClose.addEventListener('click', closeLightbox);
            lightboxPrev.addEventListener('click', showPrevImage);
            lightboxNext.addEventListener('click', showNextImage);
            lightboxDownload.addEventListener('click', () => downloadItem(galleryItems[currentLightboxIndex]));
            lightboxShare.addEventListener('click', () => shareItem(galleryItems[currentLightboxIndex]));

            // --- Navigation Logic ---
            navItems.forEach((item) => {
                item.addEventListener('click', (e) => {
                    const button = e.currentTarget;
                    const view = button.dataset.view;
                    
                    // Update slider position
                    navSlider.style.transform = `translateX(${button.offsetLeft - navSlider.parentElement.offsetLeft + 8}px)`; // 8 is for padding
                    
                    // Update active item styles
                    navItems.forEach(i => i.classList.replace('text-white', 'text-gray-400'));
                    button.classList.replace('text-gray-400', 'text-white');

                    if (view === 'gallery') {
                        mainContent.classList.remove('hidden');
                        downloadsView.classList.add('hidden');
                    } else if (view === 'downloads') {
                        mainContent.classList.add('hidden');
                        downloadsView.classList.remove('hidden');
                        renderDownloads();
                    }
                });
            });
            
            // Set initial position of slider
            if (navItems.length > 0) {
                navSlider.style.transform = `translateX(${navItems[0].offsetLeft - navSlider.parentElement.offsetLeft + 8}px)`;
            }

            // --- Search Bar Logic ---
            searchBtn.addEventListener('click', (e) => {
                e.preventDefault();
                const isExpanded = searchBar.classList.contains('w-32');
                if (isExpanded) {
                    if(searchBar.value === '') {
                        searchBar.classList.remove('w-32', 'p-2', 'opacity-100');
                        searchBar.classList.add('w-0', 'p-0', 'opacity-0');
                    } else {
                        // perform search
                        const query = searchBar.value.toLowerCase();
                        const filteredItems = galleryItems.filter(item => 
                            item.alt?.toLowerCase().includes(query) || item.id.includes(query)
                        );
                        renderGallery(filteredItems);
                    }
                } else {
                    searchBar.classList.add('w-32', 'p-2', 'opacity-100');
                    searchBar.classList.remove('w-0', 'p-0', 'opacity-0');
                    searchBar.focus();
                }
            });

            searchBar.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    const query = searchBar.value.toLowerCase();
                    const filteredItems = galleryItems.filter(item => item.id.includes(query));
                    renderGallery(filteredItems);
                }
            });

            // --- Actions: Download, Share, Upload ---
            async function downloadItem(item) {
                try {
                    // Using a cors proxy for fetching from unsplash
                    const response = await fetch(`https://cors-anywhere.herokuapp.com/${item.src}`);
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.style.display = 'none';
                    a.href = url;
                    a.download = `${item.id}.jpg`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    a.remove();

                    // Add to downloads collection if not already there
                    if(!downloadedItems.find(d => d.id === item.id)) {
                        downloadedItems.push(item);
                        localStorage.setItem('downloadedGalleryItems', JSON.stringify(downloadedItems));
                        updateDownloadCounter();
                        showNotification("Added to downloads.");
                    } else {
                        showNotification("Already in your downloads.");
                    }
                } catch (err) {
                    console.error('Download failed:', err);
                    showNotification('Download failed! CORS policy might be blocking it.', true);
                }
            }
            
            async function shareItem(item) {
                const shareData = {
                    title: 'Check out this image!',
                    text: 'I found this beautiful image in the gallery.',
                    url: item.src,
                };
                try {
                    if (navigator.share) {
                        await navigator.share(shareData);
                    } else {
                        // Fallback for desktop/unsupported browsers
                        navigator.clipboard.writeText(item.src);
                        showNotification('Image URL copied to clipboard!');
                    }
                } catch (err) {
                    console.error('Share failed:', err);
                    showNotification('Could not share image.', true);
                }
            }
            
            uploadInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if(file && file.type.startsWith('image/')){
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const newItem = {
                            id: `upload-${Date.now()}`,
                            src: event.target.result,
                            type: 'image'
                        };
                        galleryItems.unshift(newItem);
                        
                        const uploadedImages = JSON.parse(localStorage.getItem('uploadedGalleryImages')) || [];
                        uploadedImages.unshift(newItem);
                        localStorage.setItem('uploadedGalleryImages', JSON.stringify(uploadedImages));
                        
                        renderGallery(galleryItems);
                        showNotification('Image uploaded successfully!');
                    }
                    reader.readAsDataURL(file);
                }
            });

            function updateDownloadCounter() {
                if (downloadedItems.length > 0) {
                    downloadCount.textContent = downloadedItems.length;
                    downloadCount.classList.remove('hidden');
                } else {
                    downloadCount.classList.add('hidden');
                }
            }
            
            function showNotification(message, isError = false) {
                const modal = document.getElementById('notification-modal');
                const msgEl = document.getElementById('notification-message');
                msgEl.textContent = message;
                modal.className = modal.className.replace(/bg-\w+-500/, isError ? 'bg-red-500' : 'bg-green-500');
                
                modal.classList.remove('translate-x-[150%]');
                modal.classList.add('translate-x-0');

                setTimeout(() => {
                    modal.classList.add('translate-x-[150%]');
                    modal.classList.remove('translate-x-0');
                }, 3000);
            }

            // --- Start the app ---
            initializeGallery();
        });
    </script>
</body>
</html>